---
keywords: fastai
description: Now that you know the basics of Kaggle competitions, you will learn how to study the specific problem at hand. You will practice EDA and get to establish correct local validation strategies. You will also learn about data leakage.
title: Winning a Kaggle Competition in Python - Part 2
toc: true
branch: master
badges: true
comments: true
author: Hai Nguyen
categories: [Kaggle, Datacamp, EDA, Time K-fold, K-fold, Stratified K-fold, Time Series]
image: images/winning_kaggle_p2.png
hide: false
search_exclude: true
metadata_key1: metadata_value1
metadata_key2: metadata_value2
nb_path: _notebooks/Winning a Kaggle Competition in Python/2022-08-04-Chapter_2 Dive into the Competition.ipynb
layout: notebook
---

<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/Winning a Kaggle Competition in Python/2022-08-04-Chapter_2 Dive into the Competition.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="https://github.com/anhhaibkhn/Data-Science-selfstudy-notes-Blog/tree/master/_notebooks/Winning%20a%20Kaggle%20Competition%20in%20Python"><strong>Download Datasets and Presentation slides for this post HERE</strong></a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Understand-the-problem">Understand the problem<a class="anchor-link" href="#Understand-the-problem"> </a></h2><ul>
<li>Solution workflow </li>
</ul>
<p><img src="/Data-Science-selfstudy-notes-Blog/images/copied_from_nb/images/solution_workflow.png" alt="sw"></p>
<ul>
<li>Data type: tabular data, time series, images, text, etc.</li>
<li>Problem type: classification, regression, ranking, etc.</li>
<li><p>Evalation Metrics: ROC AUC, F1-Score, MAE, MSE, etc.</p>
<ul>
<li><p>Example Custom Metric (Root Mean Squared Error in a Logarithmic scale):</p>
<p>$$ RMSLE = \sqrt{\frac{1}{N}\sum_{i=1}^N (\log(y_i + 1) - \log(\hat{y_i} + 1))^2} $$</p>
</li>
</ul>
</li>
</ul>
<ul>
<li>Define a competition metrics</li>
</ul>
<p><img src="/Data-Science-selfstudy-notes-Blog/images/copied_from_nb/./images/define_metrics.png" alt="Define Metric"></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span> 

<span class="c1"># Import log_loss from sklearn</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">log_loss</span>

<span class="c1"># Define your own LogLoss function</span>
<span class="k">def</span> <span class="nf">own_logloss</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">prob_pred</span><span class="p">):</span>
  	<span class="c1"># Find loss for each observation</span>
    <span class="n">terms</span> <span class="o">=</span> <span class="n">y_true</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">prob_pred</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">y_true</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">prob_pred</span><span class="p">)</span>
    <span class="c1"># Find mean over all observations</span>
    <span class="n">err</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">terms</span><span class="p">)</span> 
    <span class="k">return</span> <span class="o">-</span><span class="n">err</span>

<span class="n">y_classification_true</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>  <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
                                    <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
                                    <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
                                    <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
                                    <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">y_classification_pred</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>  <span class="mf">0.2082483</span> <span class="p">,</span> <span class="mf">0.4433677</span> <span class="p">,</span> <span class="mf">0.71560128</span><span class="p">,</span> <span class="mf">0.41051979</span><span class="p">,</span> <span class="mf">0.19100696</span><span class="p">,</span>
                                    <span class="mf">0.96749431</span><span class="p">,</span> <span class="mf">0.65075037</span><span class="p">,</span> <span class="mf">0.86545985</span><span class="p">,</span> <span class="mf">0.02524236</span><span class="p">,</span> <span class="mf">0.26690581</span><span class="p">,</span>
                                    <span class="mf">0.5020711</span> <span class="p">,</span> <span class="mf">0.06744864</span><span class="p">,</span> <span class="mf">0.99303326</span><span class="p">,</span> <span class="mf">0.2364624</span> <span class="p">,</span> <span class="mf">0.37429218</span><span class="p">,</span>
                                    <span class="mf">0.21401191</span><span class="p">,</span> <span class="mf">0.10544587</span><span class="p">,</span> <span class="mf">0.23247979</span><span class="p">,</span> <span class="mf">0.30061014</span><span class="p">,</span> <span class="mf">0.63444227</span><span class="p">,</span>
                                    <span class="mf">0.28123478</span><span class="p">,</span> <span class="mf">0.36227676</span><span class="p">,</span> <span class="mf">0.00594284</span><span class="p">,</span> <span class="mf">0.36571913</span><span class="p">,</span> <span class="mf">0.53388598</span><span class="p">,</span>
                                    <span class="mf">0.16201584</span><span class="p">,</span> <span class="mf">0.59743311</span><span class="p">,</span> <span class="mf">0.29315247</span><span class="p">,</span> <span class="mf">0.63205049</span><span class="p">,</span> <span class="mf">0.02619661</span><span class="p">,</span>
                                    <span class="mf">0.88759346</span><span class="p">,</span> <span class="mf">0.01611863</span><span class="p">,</span> <span class="mf">0.12695803</span><span class="p">,</span> <span class="mf">0.77716246</span><span class="p">,</span> <span class="mf">0.04589523</span><span class="p">,</span>
                                    <span class="mf">0.71099869</span><span class="p">,</span> <span class="mf">0.97104614</span><span class="p">,</span> <span class="mf">0.87168293</span><span class="p">,</span> <span class="mf">0.71016165</span><span class="p">,</span> <span class="mf">0.95850974</span><span class="p">,</span>
                                    <span class="mf">0.42981334</span><span class="p">,</span> <span class="mf">0.87287891</span><span class="p">,</span> <span class="mf">0.35595767</span><span class="p">,</span> <span class="mf">0.92976365</span><span class="p">,</span> <span class="mf">0.14877766</span><span class="p">,</span>
                                    <span class="mf">0.94002901</span><span class="p">,</span> <span class="mf">0.8327162</span> <span class="p">,</span> <span class="mf">0.84605484</span><span class="p">,</span> <span class="mf">0.12392301</span><span class="p">,</span> <span class="mf">0.5964869</span> <span class="p">,</span>
                                    <span class="mf">0.01639248</span><span class="p">,</span> <span class="mf">0.72118437</span><span class="p">,</span> <span class="mf">0.00773751</span><span class="p">,</span> <span class="mf">0.08482228</span><span class="p">,</span> <span class="mf">0.22549841</span><span class="p">,</span>
                                    <span class="mf">0.87512453</span><span class="p">,</span> <span class="mf">0.36357632</span><span class="p">,</span> <span class="mf">0.53995994</span><span class="p">,</span> <span class="mf">0.56810321</span><span class="p">,</span> <span class="mf">0.22546336</span><span class="p">,</span>
                                    <span class="mf">0.57214677</span><span class="p">,</span> <span class="mf">0.6609518</span> <span class="p">,</span> <span class="mf">0.29824539</span><span class="p">,</span> <span class="mf">0.41862686</span><span class="p">,</span> <span class="mf">0.45308892</span><span class="p">,</span>
                                    <span class="mf">0.93235066</span><span class="p">,</span> <span class="mf">0.58749375</span><span class="p">,</span> <span class="mf">0.94825237</span><span class="p">,</span> <span class="mf">0.55603475</span><span class="p">,</span> <span class="mf">0.50056142</span><span class="p">,</span>
                                    <span class="mf">0.00353221</span><span class="p">,</span> <span class="mf">0.48088904</span><span class="p">,</span> <span class="mf">0.927455</span>  <span class="p">,</span> <span class="mf">0.19836569</span><span class="p">,</span> <span class="mf">0.05209113</span><span class="p">,</span>
                                    <span class="mf">0.40677889</span><span class="p">,</span> <span class="mf">0.37239648</span><span class="p">,</span> <span class="mf">0.85715306</span><span class="p">,</span> <span class="mf">0.02661112</span><span class="p">,</span> <span class="mf">0.92014923</span><span class="p">,</span>
                                    <span class="mf">0.680903</span>  <span class="p">,</span> <span class="mf">0.90422599</span><span class="p">,</span> <span class="mf">0.60752907</span><span class="p">,</span> <span class="mf">0.81195331</span><span class="p">,</span> <span class="mf">0.33554387</span><span class="p">,</span>
                                    <span class="mf">0.34956623</span><span class="p">,</span> <span class="mf">0.38987423</span><span class="p">,</span> <span class="mf">0.75479708</span><span class="p">,</span> <span class="mf">0.36929117</span><span class="p">,</span> <span class="mf">0.24221981</span><span class="p">,</span>
                                    <span class="mf">0.93766836</span><span class="p">,</span> <span class="mf">0.90801108</span><span class="p">,</span> <span class="mf">0.34879732</span><span class="p">,</span> <span class="mf">0.63463807</span><span class="p">,</span> <span class="mf">0.27384221</span><span class="p">,</span>
                                    <span class="mf">0.20611513</span><span class="p">,</span> <span class="mf">0.33633953</span><span class="p">,</span> <span class="mf">0.32709989</span><span class="p">,</span> <span class="mf">0.8822761</span> <span class="p">,</span> <span class="mf">0.82230381</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Your LogLoss: </span><span class="si">{:.5f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">own_logloss</span><span class="p">(</span><span class="n">y_classification_true</span><span class="p">,</span> <span class="n">y_classification_pred</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Sklearn LogLoss: </span><span class="si">{:.5f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">log_loss</span><span class="p">(</span><span class="n">y_classification_true</span><span class="p">,</span> <span class="n">y_classification_pred</span><span class="p">)))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Your LogLoss: 1.10801
Sklearn LogLoss: 1.10801
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Initial-EDA">Initial EDA<a class="anchor-link" href="#Initial-EDA"> </a></h2><p>Goals of EDA:</p>
<ul>
<li>Size of the data</li>
<li>Properties of the target variable</li>
<li>Properties of the features</li>
<li>Generate ideas for feature engineering<br>
<br /></li>
</ul>
<p>Example - Two sigma connect rental listing inquiries:</p>
<ul>
<li>Predict the popularity of an apartment rental listing</li>
<li>target variable: interest_level</li>
<li>Problem type: Classification ( 3 classes: 'high', 'medium', 'low' )</li>
<li>Metric: Multi-class log loss</li>
</ul>
<h3 id="EDA.-Part-I">EDA. Part I<a class="anchor-link" href="#EDA.-Part-I"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span> 

<span class="n">twosigma_train</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s2">&quot;datasets/two_sigma_connect/train.json&quot;</span><span class="p">))</span>
<span class="n">twosigma_test</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s2">&quot;datasets/two_sigma_connect/test.json&quot;</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Train shape:&#39;</span><span class="p">,</span> <span class="n">twosigma_train</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Test shape:&#39;</span><span class="p">,</span> <span class="n">twosigma_test</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Train shape: (49352, 15)
Test shape: (74659, 14)
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">twosigma_train</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>
<span class="n">twosigma_train</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;listing_id&#39;</span><span class="p">:</span><span class="s1">&#39;id&#39;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">twosigma_test</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;listing_id&#39;</span><span class="p">:</span><span class="s1">&#39;id&#39;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">TO_KEEP</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;bathrooms&#39;</span><span class="p">,</span> <span class="s1">&#39;bedrooms&#39;</span><span class="p">,</span> <span class="s1">&#39;building_id&#39;</span><span class="p">,</span> <span class="s1">&#39;latitude&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;longitude&#39;</span><span class="p">,</span> <span class="s1">&#39;manager_id&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">,</span>  <span class="s1">&#39;interest_level&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">twosigma_train</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">col</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">TO_KEEP</span><span class="p">:</span>
        <span class="n">twosigma_train</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="n">col</span><span class="p">],</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> 
        <span class="n">twosigma_test</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="n">col</span><span class="p">],</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> 

<span class="nb">print</span><span class="p">(</span><span class="n">twosigma_train</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[&#39;bathrooms&#39;, &#39;bedrooms&#39;, &#39;building_id&#39;, &#39;created&#39;, &#39;description&#39;, &#39;display_address&#39;, &#39;features&#39;, &#39;latitude&#39;, &#39;listing_id&#39;, &#39;longitude&#39;, &#39;manager_id&#39;, &#39;photos&#39;, &#39;price&#39;, &#39;street_address&#39;, &#39;interest_level&#39;]
[&#39;bathrooms&#39;, &#39;bedrooms&#39;, &#39;building_id&#39;, &#39;latitude&#39;, &#39;id&#39;, &#39;longitude&#39;, &#39;manager_id&#39;, &#39;price&#39;, &#39;interest_level&#39;]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">twosigma_train</span><span class="o">.</span><span class="n">interest_level</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>low       34284
medium    11229
high       3839
Name: interest_level, dtype: int64
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">twosigma_train</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">twosigma_test</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>


<span class="n">twosigma_train</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>bathrooms</th>
      <th>bedrooms</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>49352.00000</td>
      <td>49352.000000</td>
      <td>49352.000000</td>
      <td>49352.000000</td>
      <td>4.935200e+04</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>1.21218</td>
      <td>1.541640</td>
      <td>40.741545</td>
      <td>-73.955716</td>
      <td>3.830174e+03</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.50142</td>
      <td>1.115018</td>
      <td>0.638535</td>
      <td>1.177912</td>
      <td>2.206687e+04</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.00000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>-118.271000</td>
      <td>4.300000e+01</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1.00000</td>
      <td>1.000000</td>
      <td>40.728300</td>
      <td>-73.991700</td>
      <td>2.500000e+03</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>1.00000</td>
      <td>1.000000</td>
      <td>40.751800</td>
      <td>-73.977900</td>
      <td>3.150000e+03</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>1.00000</td>
      <td>2.000000</td>
      <td>40.774300</td>
      <td>-73.954800</td>
      <td>4.100000e+03</td>
    </tr>
    <tr>
      <th>max</th>
      <td>10.00000</td>
      <td>8.000000</td>
      <td>44.883500</td>
      <td>0.000000</td>
      <td>4.490000e+06</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">twosigma_train</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>bathrooms</th>
      <th>bedrooms</th>
      <th>building_id</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>manager_id</th>
      <th>price</th>
      <th>interest_level</th>
    </tr>
    <tr>
      <th>id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>7170325</th>
      <td>1.0</td>
      <td>1</td>
      <td>8579a0b0d54db803821a35a4a615e97a</td>
      <td>40.7108</td>
      <td>-73.9539</td>
      <td>a10db4590843d78c784171a107bdacb4</td>
      <td>2400</td>
      <td>medium</td>
    </tr>
    <tr>
      <th>7092344</th>
      <td>1.0</td>
      <td>2</td>
      <td>b8e75fc949a6cd8225b455648a951712</td>
      <td>40.7513</td>
      <td>-73.9722</td>
      <td>955db33477af4f40004820b4aed804a0</td>
      <td>3800</td>
      <td>low</td>
    </tr>
    <tr>
      <th>7158677</th>
      <td>1.0</td>
      <td>2</td>
      <td>cd759a988b8f23924b5a2058d5ab2b49</td>
      <td>40.7575</td>
      <td>-73.9625</td>
      <td>c8b10a317b766204f08e613cef4ce7a0</td>
      <td>3495</td>
      <td>medium</td>
    </tr>
    <tr>
      <th>7211212</th>
      <td>1.5</td>
      <td>3</td>
      <td>53a5b119ba8f7b61d4e010512e0dfc85</td>
      <td>40.7145</td>
      <td>-73.9425</td>
      <td>5ba989232d0489da1b5f2c45f6688adc</td>
      <td>3000</td>
      <td>medium</td>
    </tr>
    <tr>
      <th>7225292</th>
      <td>1.0</td>
      <td>0</td>
      <td>bfb9405149bfff42a92980b594c28234</td>
      <td>40.7439</td>
      <td>-73.9743</td>
      <td>2c3b41f588fbb5234d8a1e885a436cfa</td>
      <td>2795</td>
      <td>low</td>
    </tr>
    <tr>
      <th>7226687</th>
      <td>1.0</td>
      <td>3</td>
      <td>300d27d8ba2adbcbc8c6f2bcbc1c6f9d</td>
      <td>40.7348</td>
      <td>-73.9865</td>
      <td>30a7951cfc21240e8c46b2d079d292e5</td>
      <td>7200</td>
      <td>low</td>
    </tr>
    <tr>
      <th>7126989</th>
      <td>2.0</td>
      <td>3</td>
      <td>0d01cabe55fa5192cdbcabd5c585c1ea</td>
      <td>40.7302</td>
      <td>-73.9826</td>
      <td>9f39caedae295bf81e67463e6fd0af40</td>
      <td>6000</td>
      <td>low</td>
    </tr>
    <tr>
      <th>7114138</th>
      <td>1.0</td>
      <td>0</td>
      <td>d48767c37a934daaf0bbb0e58c755d0c</td>
      <td>40.7769</td>
      <td>-73.9467</td>
      <td>9cbfa7a31ae9dfba70b4383636d99788</td>
      <td>1945</td>
      <td>high</td>
    </tr>
    <tr>
      <th>7131094</th>
      <td>0.0</td>
      <td>1</td>
      <td>d1ca33a2853e64fad6e4009d5d5d168f</td>
      <td>40.7346</td>
      <td>-73.9811</td>
      <td>b89e62bf8cdc98e9fb8b97d9bc627197</td>
      <td>2435</td>
      <td>low</td>
    </tr>
    <tr>
      <th>7224815</th>
      <td>3.0</td>
      <td>3</td>
      <td>5f35dc2f0191baf109221752e6ee0c48</td>
      <td>40.6990</td>
      <td>-73.9943</td>
      <td>d5d246c9d9d4e7079e5a0fc962d2f1a7</td>
      <td>6850</td>
      <td>low</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="EDA.-Part-II">EDA. Part II<a class="anchor-link" href="#EDA.-Part-II"> </a></h3><p>Draw some plots</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;ggplot&#39;</span><span class="p">)</span>

<span class="c1"># find the median price by the interest level</span>
<span class="n">prices</span> <span class="o">=</span> <span class="n">twosigma_train</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;interest_level&#39;</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">prices</span><span class="o">.</span><span class="n">interest_level</span><span class="p">,</span> <span class="n">prices</span><span class="o">.</span><span class="n">price</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.8</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Interest level&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Median price&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Median listing price across interest level&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="sd">&quot;&quot;&quot; This shows that lower median price get high interest level, while higher prices get low interest level. &quot;&quot;&quot;</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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"
>
</div>

</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39; This shows that lower median price get high interest level, while higher prices get low interest level. &#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">twosigma_train</span><span class="o">.</span><span class="n">interest_level</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>low       34284
medium    11229
high       3839
Name: interest_level, dtype: int64</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="EDA-Statistic">EDA Statistic<a class="anchor-link" href="#EDA-Statistic"> </a></h3><p>As mentioned in the slides, you'll work with New York City taxi fare prediction data. You'll start with finding some basic statistics about the data. Then you'll move forward to plot some dependencies and generate hypotheses on them.</p>
<p>The train and test DataFrames are already available in your workspace.</p>
<p>Instructions:</p>
<ul>
<li>Describe the "fare_amount" column to get some statistics about the target variable.</li>
<li>Find the distribution of the "passenger_count" in the train data (using the value_counts() method).</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.expand_frame_repr&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="c1"># Read train data</span>
<span class="n">train</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;datasets/taxi_train_chapter_4.csv&#39;</span><span class="p">)</span>
<span class="n">test</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;datasets/taxi_test_chapter_4.csv&#39;</span><span class="p">)</span>


<span class="c1"># Shapes of train and test data</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Train shape:&#39;</span><span class="p">,</span> <span class="n">train</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Test shape:&#39;</span><span class="p">,</span> <span class="n">test</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="c1"># Train head()</span>
<span class="n">display</span><span class="p">(</span><span class="n">train</span><span class="o">.</span><span class="n">head</span><span class="p">()</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="s1">&#39;white-space:nowrap&#39;</span><span class="p">))</span>

<span class="c1"># Describe the target variable</span>
<span class="nb">print</span><span class="p">(</span><span class="n">train</span><span class="o">.</span><span class="n">fare_amount</span><span class="o">.</span><span class="n">describe</span><span class="p">())</span>

<span class="c1"># Train distribution of passengers within rides</span>
<span class="nb">print</span><span class="p">(</span><span class="n">train</span><span class="o">.</span><span class="n">passenger_count</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Train shape: (20000, 8)
Test shape: (9914, 7)
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<style type="text/css">
#T_1f49c_row0_col0, #T_1f49c_row0_col1, #T_1f49c_row0_col2, #T_1f49c_row0_col3, #T_1f49c_row0_col4, #T_1f49c_row0_col5, #T_1f49c_row0_col6, #T_1f49c_row0_col7, #T_1f49c_row1_col0, #T_1f49c_row1_col1, #T_1f49c_row1_col2, #T_1f49c_row1_col3, #T_1f49c_row1_col4, #T_1f49c_row1_col5, #T_1f49c_row1_col6, #T_1f49c_row1_col7, #T_1f49c_row2_col0, #T_1f49c_row2_col1, #T_1f49c_row2_col2, #T_1f49c_row2_col3, #T_1f49c_row2_col4, #T_1f49c_row2_col5, #T_1f49c_row2_col6, #T_1f49c_row2_col7, #T_1f49c_row3_col0, #T_1f49c_row3_col1, #T_1f49c_row3_col2, #T_1f49c_row3_col3, #T_1f49c_row3_col4, #T_1f49c_row3_col5, #T_1f49c_row3_col6, #T_1f49c_row3_col7, #T_1f49c_row4_col0, #T_1f49c_row4_col1, #T_1f49c_row4_col2, #T_1f49c_row4_col3, #T_1f49c_row4_col4, #T_1f49c_row4_col5, #T_1f49c_row4_col6, #T_1f49c_row4_col7 {
  white-space: nowrap;
}
</style>
<table id="T_1f49c">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_1f49c_level0_col0" class="col_heading level0 col0" >id</th>
      <th id="T_1f49c_level0_col1" class="col_heading level0 col1" >fare_amount</th>
      <th id="T_1f49c_level0_col2" class="col_heading level0 col2" >pickup_datetime</th>
      <th id="T_1f49c_level0_col3" class="col_heading level0 col3" >pickup_longitude</th>
      <th id="T_1f49c_level0_col4" class="col_heading level0 col4" >pickup_latitude</th>
      <th id="T_1f49c_level0_col5" class="col_heading level0 col5" >dropoff_longitude</th>
      <th id="T_1f49c_level0_col6" class="col_heading level0 col6" >dropoff_latitude</th>
      <th id="T_1f49c_level0_col7" class="col_heading level0 col7" >passenger_count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_1f49c_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_1f49c_row0_col0" class="data row0 col0" >0</td>
      <td id="T_1f49c_row0_col1" class="data row0 col1" >4.500000</td>
      <td id="T_1f49c_row0_col2" class="data row0 col2" >2009-06-15 17:26:21 UTC</td>
      <td id="T_1f49c_row0_col3" class="data row0 col3" >-73.844311</td>
      <td id="T_1f49c_row0_col4" class="data row0 col4" >40.721319</td>
      <td id="T_1f49c_row0_col5" class="data row0 col5" >-73.841610</td>
      <td id="T_1f49c_row0_col6" class="data row0 col6" >40.712278</td>
      <td id="T_1f49c_row0_col7" class="data row0 col7" >1</td>
    </tr>
    <tr>
      <th id="T_1f49c_level0_row1" class="row_heading level0 row1" >1</th>
      <td id="T_1f49c_row1_col0" class="data row1 col0" >1</td>
      <td id="T_1f49c_row1_col1" class="data row1 col1" >16.900000</td>
      <td id="T_1f49c_row1_col2" class="data row1 col2" >2010-01-05 16:52:16 UTC</td>
      <td id="T_1f49c_row1_col3" class="data row1 col3" >-74.016048</td>
      <td id="T_1f49c_row1_col4" class="data row1 col4" >40.711303</td>
      <td id="T_1f49c_row1_col5" class="data row1 col5" >-73.979268</td>
      <td id="T_1f49c_row1_col6" class="data row1 col6" >40.782004</td>
      <td id="T_1f49c_row1_col7" class="data row1 col7" >1</td>
    </tr>
    <tr>
      <th id="T_1f49c_level0_row2" class="row_heading level0 row2" >2</th>
      <td id="T_1f49c_row2_col0" class="data row2 col0" >2</td>
      <td id="T_1f49c_row2_col1" class="data row2 col1" >5.700000</td>
      <td id="T_1f49c_row2_col2" class="data row2 col2" >2011-08-18 00:35:00 UTC</td>
      <td id="T_1f49c_row2_col3" class="data row2 col3" >-73.982738</td>
      <td id="T_1f49c_row2_col4" class="data row2 col4" >40.761270</td>
      <td id="T_1f49c_row2_col5" class="data row2 col5" >-73.991242</td>
      <td id="T_1f49c_row2_col6" class="data row2 col6" >40.750562</td>
      <td id="T_1f49c_row2_col7" class="data row2 col7" >2</td>
    </tr>
    <tr>
      <th id="T_1f49c_level0_row3" class="row_heading level0 row3" >3</th>
      <td id="T_1f49c_row3_col0" class="data row3 col0" >3</td>
      <td id="T_1f49c_row3_col1" class="data row3 col1" >7.700000</td>
      <td id="T_1f49c_row3_col2" class="data row3 col2" >2012-04-21 04:30:42 UTC</td>
      <td id="T_1f49c_row3_col3" class="data row3 col3" >-73.987130</td>
      <td id="T_1f49c_row3_col4" class="data row3 col4" >40.733143</td>
      <td id="T_1f49c_row3_col5" class="data row3 col5" >-73.991567</td>
      <td id="T_1f49c_row3_col6" class="data row3 col6" >40.758092</td>
      <td id="T_1f49c_row3_col7" class="data row3 col7" >1</td>
    </tr>
    <tr>
      <th id="T_1f49c_level0_row4" class="row_heading level0 row4" >4</th>
      <td id="T_1f49c_row4_col0" class="data row4 col0" >4</td>
      <td id="T_1f49c_row4_col1" class="data row4 col1" >5.300000</td>
      <td id="T_1f49c_row4_col2" class="data row4 col2" >2010-03-09 07:51:00 UTC</td>
      <td id="T_1f49c_row4_col3" class="data row4 col3" >-73.968095</td>
      <td id="T_1f49c_row4_col4" class="data row4 col4" >40.768008</td>
      <td id="T_1f49c_row4_col5" class="data row4 col5" >-73.956655</td>
      <td id="T_1f49c_row4_col6" class="data row4 col6" >40.783762</td>
      <td id="T_1f49c_row4_col7" class="data row4 col7" >1</td>
    </tr>
  </tbody>
</table>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>count    20000.000000
mean        11.303321
std          9.541637
min         -3.000000
25%          6.000000
50%          8.500000
75%         12.500000
max        180.000000
Name: fare_amount, dtype: float64
1    13999
2     2912
5     1327
3      860
4      420
6      407
0       75
Name: passenger_count, dtype: int64
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="EDA-plots-I">EDA plots I<a class="anchor-link" href="#EDA-plots-I"> </a></h3><p>After generating a couple of basic statistics, it's time to come up with and validate some ideas about the data dependencies. Again, the train DataFrame from the taxi competition is already available in your workspace.</p>
<p>To begin with, let's make a scatterplot plotting the relationship between the fare amount and the distance of the ride. Intuitively, the longer the ride, the higher its price.</p>
<p>To get the distance in kilometers between two geo-coordinates, you will use Haversine distance. Its calculation is available with the haversine_distance() function defined for you. The function expects train DataFrame as input.</p>
<p>Instructions:</p>
<ul>
<li>Create a new variable "distance_km" as Haversine distance between pickup and dropoff points.</li>
<li>Plot a scatterplot with "fare_amount" on the x axis and "distance_km" on the y axis. To draw a scatterplot use matplotlib scatter() method.</li>
<li>Set a limit on a ride distance to be between 0 and 50 kilometers to avoid plotting outliers.</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">haversine_distance</span><span class="p">(</span><span class="n">train</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Define Haversine distance &quot;&quot;&quot;</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">train</span><span class="p">]</span>
    <span class="n">lat1</span><span class="p">,</span> <span class="n">long1</span><span class="p">,</span> <span class="n">lat2</span><span class="p">,</span> <span class="n">long2</span> <span class="o">=</span> <span class="s1">&#39;pickup_latitude&#39;</span><span class="p">,</span> <span class="s1">&#39;pickup_longitude&#39;</span><span class="p">,</span> <span class="s1">&#39;dropoff_latitude&#39;</span><span class="p">,</span> <span class="s1">&#39;dropoff_longitude&#39;</span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
        <span class="n">R</span> <span class="o">=</span> <span class="mi">6371</span>  <span class="c1">#radius of earth in kilometers</span>
        <span class="c1">#R = 3959 #radius of earth in miles</span>
        <span class="n">phi1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="n">lat1</span><span class="p">])</span>
        <span class="n">phi2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="n">lat2</span><span class="p">])</span>
    
        <span class="n">delta_phi</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="n">lat2</span><span class="p">]</span><span class="o">-</span><span class="n">i</span><span class="p">[</span><span class="n">lat1</span><span class="p">])</span>
        <span class="n">delta_lambda</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="n">long2</span><span class="p">]</span><span class="o">-</span><span class="n">i</span><span class="p">[</span><span class="n">long1</span><span class="p">])</span>
    
        <span class="c1">#a = sin((B - A)/2) + cos A . cos B . sin((B - A)/2)</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">delta_phi</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">phi1</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">phi2</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">delta_lambda</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span>
    
        <span class="c1">#c = 2 * atan2( a, (1a) )</span>
        <span class="n">c</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">a</span><span class="p">))</span>
    
        <span class="c1">#d = R*c</span>
        <span class="n">d</span> <span class="o">=</span> <span class="p">(</span><span class="n">R</span> <span class="o">*</span> <span class="n">c</span><span class="p">)</span> <span class="c1">#in kilometers</span>
        
    <span class="k">return</span> <span class="n">d</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">train</span><span class="p">[</span><span class="s1">&#39;distance_km&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">haversine_distance</span><span class="p">(</span><span class="n">train</span><span class="p">)</span>

<span class="c1"># Draw a scatterplot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">train</span><span class="p">[</span><span class="s2">&quot;fare_amount&quot;</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="n">train</span><span class="p">[</span><span class="s2">&quot;distance_km&quot;</span><span class="p">],</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Fare amount&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Distance, km&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Fare amount based on the distance&#39;</span><span class="p">)</span>

<span class="c1"># Limit on the distance</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Nice plot! It's obvious now that there is a clear dependency between ride distance and fare amount. So, ride distance is, probably, a good feature. Let's find some others!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="EDA-plots-II">EDA plots II<a class="anchor-link" href="#EDA-plots-II"> </a></h3><p>Another idea that comes to mind is that the price of a ride could change during the day.</p>
<p>Your goal is to plot the median fare amount for each hour of the day as a simple line plot. The hour feature is calculated for you. Don't worry if you do not know how to work with the date features. We will explore them in the chapter on Feature Engineering.</p>
<p>Instructions:</p>
<ul>
<li>Group train DataFrame by "hour" and calculate the median for the "fare_amount" column.</li>
<li>Using hour_price DataFrame obtained, plot a line with "hour" on the x axis and "fare_amount" on the y axis.</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">train</span><span class="p">[</span><span class="s1">&#39;pickup_datetime&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">train</span><span class="o">.</span><span class="n">pickup_datetime</span><span class="p">)</span>
<span class="n">train</span><span class="p">[</span><span class="s1">&#39;hour&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">train</span><span class="o">.</span><span class="n">pickup_datetime</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">hour</span>

<span class="c1"># Find median fare_amount for each hour</span>
<span class="n">hour_price</span> <span class="o">=</span> <span class="n">train</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;hour&#39;</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="s1">&#39;fare_amount&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>

<span class="c1"># Plot the line plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">hour_price</span><span class="p">[</span><span class="s1">&#39;hour&#39;</span><span class="p">],</span> <span class="n">hour_price</span><span class="p">[</span><span class="s1">&#39;fare_amount&#39;</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Hour of the day&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Median fare amount&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Fare amount based on day time&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">24</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Great! We see that prices are a bit higher during the night. It is a good indicator that we should include the "hour" feature in the final model, or at least add a binary feature "is_night". Move on to the next lesson to learn how to check whether new features are useful for the model or not!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Local-validation">Local validation<a class="anchor-link" href="#Local-validation"> </a></h2><ul>
<li>Motivation</li>
</ul>
<p><img src="/Data-Science-selfstudy-notes-Blog/images/copied_from_nb/./images/local_validation_motivation.png" alt="Motivation"></p>
<p><img src="/Data-Science-selfstudy-notes-Blog/images/copied_from_nb/./images/hold_out_set.png" alt="Holdout set"></p>
<ul>
<li>K-fold cross-validation</li>
</ul>
<p><img src="/Data-Science-selfstudy-notes-Blog/images/copied_from_nb/./images/kfold1.png" alt="K-fold1"></p>
<p><img src="/Data-Science-selfstudy-notes-Blog/images/copied_from_nb/./images/kfold2.png" alt="K-fold2"></p>
<p><img src="/Data-Science-selfstudy-notes-Blog/images/copied_from_nb/./images/kfold3.png" alt="K-fold3"></p>
<ul>
<li>Stratified K-fold  (for imbalance datasets)</li>
</ul>
<p><img src="/Data-Science-selfstudy-notes-Blog/images/copied_from_nb/./images/stratified_kfold.png" alt="Stratified-Kfold"></p>
<p><img src="/Data-Science-selfstudy-notes-Blog/images/copied_from_nb/./images/stratified_kfold2.png" alt="Stratified-Kfold2"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="K-fold-cross-validation">K-fold cross-validation<a class="anchor-link" href="#K-fold-cross-validation"> </a></h3><p>You will start by getting hands-on experience in the most commonly used K-fold cross-validation.</p>
<p>The data you'll be working with is from the "Two sigma connect: rental listing inquiries" Kaggle competition. The competition problem is a multi-class classification of the rental listings into 3 classes: low interest, medium interest and high interest. For faster performance, you will work with a subsample consisting of 1,000 observations.</p>
<p>You need to implement a K-fold validation strategy and look at the sizes of each fold obtained. train DataFrame is already available in your workspace.</p>
<p>Instructions:</p>
<ul>
<li>Create a KFold object with 3 folds.</li>
<li>Loop over each split using the kf object.</li>
<li>For each split select training and testing folds using train_index and test_index.</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">KFold</span>

<span class="c1"># Create a KFold object</span>
<span class="n">kf</span> <span class="o">=</span> <span class="n">KFold</span><span class="p">(</span><span class="n">n_splits</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">123</span><span class="p">)</span>

<span class="c1"># subsample 1000</span>
<span class="n">sub_train</span> <span class="o">=</span> <span class="n">twosigma_train</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">)</span>
<span class="c1"># Loop through each split</span>
<span class="n">fold</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">train_index</span><span class="p">,</span> <span class="n">test_index</span> <span class="ow">in</span> <span class="n">kf</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">sub_train</span><span class="p">):</span>
    <span class="c1"># print(train_index, test_index)</span>
    <span class="c1"># Obtain training and testing folds</span>
    <span class="n">cv_train</span><span class="p">,</span> <span class="n">cv_test</span> <span class="o">=</span> <span class="n">sub_train</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">train_index</span><span class="p">],</span> <span class="n">sub_train</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">test_index</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Fold: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fold</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;CV train shape: </span><span class="si">{}</span><span class="s1">, CV test shape: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cv_train</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">cv_test</span><span class="o">.</span><span class="n">shape</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Medium interest listings in CV train: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">cv_train</span><span class="o">.</span><span class="n">interest_level</span> <span class="o">==</span> <span class="s1">&#39;medium&#39;</span><span class="p">)))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Medium interest listings in CV test: </span><span class="si">{}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">cv_test</span><span class="o">.</span><span class="n">interest_level</span> <span class="o">==</span> <span class="s1">&#39;medium&#39;</span><span class="p">)))</span>
    <span class="n">fold</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Fold: 0
CV train shape: (666, 8), CV test shape: (334, 8)
Medium interest listings in CV train: 147
Medium interest listings in CV test: 90

Fold: 1
CV train shape: (667, 8), CV test shape: (333, 8)
Medium interest listings in CV train: 163
Medium interest listings in CV test: 74

Fold: 2
CV train shape: (667, 8), CV test shape: (333, 8)
Medium interest listings in CV train: 164
Medium interest listings in CV test: 73

</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>So, we see that the number of observations in each fold is almost uniform. It means that we've just splitted the train data into 3 equal folds. However, if we look at the number of medium-interest listings, it's varying from 162 to 175 from one fold to another. To make them uniform among the folds, let's use Stratified K-fold!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Stratified-K-fold">Stratified K-fold<a class="anchor-link" href="#Stratified-K-fold"> </a></h3><p>As you've just noticed, you have a pretty different target variable distribution among the folds due to the random splits. It's not crucial for this particular competition, but could be an issue for the classification competitions with the highly imbalanced target variable.</p>
<p>To overcome this, let's implement the stratified K-fold strategy with the stratification on the target variable. train DataFrame is already available in your workspace.</p>
<p>Instructions:</p>
<ul>
<li>Create a StratifiedKFold object with 3 folds and shuffling.</li>
<li>Loop over each split using str_kf object. Stratification is based on the "interest_level" column.</li>
<li>For each split select training and testing folds using train_index and test_index.</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">StratifiedKFold</span>

<span class="c1"># Create a StratifiedKFold object</span>
<span class="n">str_kf</span> <span class="o">=</span> <span class="n">StratifiedKFold</span><span class="p">(</span><span class="n">n_splits</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">123</span><span class="p">)</span>
<span class="c1"># subsample 1000</span>
<span class="n">sub_train</span> <span class="o">=</span> <span class="n">twosigma_train</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">)</span>

<span class="c1"># Loop through each split</span>
<span class="n">fold</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">train_index</span><span class="p">,</span> <span class="n">test_index</span> <span class="ow">in</span> <span class="n">str_kf</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">sub_train</span><span class="p">,</span> <span class="n">sub_train</span><span class="p">[</span><span class="s1">&#39;interest_level&#39;</span><span class="p">]):</span>
    <span class="c1"># Obtain training and testing folds</span>
    <span class="n">cv_train</span><span class="p">,</span> <span class="n">cv_test</span> <span class="o">=</span> <span class="n">sub_train</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">train_index</span><span class="p">],</span> <span class="n">sub_train</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">test_index</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Fold: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fold</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;CV train shape: </span><span class="si">{}</span><span class="s1">, CV test shape: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cv_train</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">cv_test</span><span class="o">.</span><span class="n">shape</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Medium interest listings in CV train: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">cv_train</span><span class="o">.</span><span class="n">interest_level</span> <span class="o">==</span> <span class="s1">&#39;medium&#39;</span><span class="p">)))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Medium interest listings in CV test: </span><span class="si">{}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">cv_test</span><span class="o">.</span><span class="n">interest_level</span> <span class="o">==</span> <span class="s1">&#39;medium&#39;</span><span class="p">)))</span>
    <span class="n">fold</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Fold: 0
CV train shape: (666, 8), CV test shape: (334, 8)
Medium interest listings in CV train: 150
Medium interest listings in CV test: 76

Fold: 1
CV train shape: (667, 8), CV test shape: (333, 8)
Medium interest listings in CV train: 151
Medium interest listings in CV test: 75

Fold: 2
CV train shape: (667, 8), CV test shape: (333, 8)
Medium interest listings in CV train: 151
Medium interest listings in CV test: 75

</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Great! Now you see that both size and target distribution are the same among the folds. The general rule is to prefer Stratified K-Fold over usual K-Fold in any classification problem. Move to the next lesson to learn about other cross-validation strategies!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Validation-usage">Validation usage<a class="anchor-link" href="#Validation-usage"> </a></h2><ul>
<li>Data Leakage</li>
</ul>
<p><img src="/Data-Science-selfstudy-notes-Blog/images/copied_from_nb/./images/data_leakage.png" alt="Data Leakage"></p>
<ul>
<li>Leakage of Data Validation Strategy (Data Leakage when using simple Kfold for Time-series data)</li>
</ul>
<p><img src="/Data-Science-selfstudy-notes-Blog/images/copied_from_nb/./images/time_data.png" alt="Time Data"></p>
<ul>
<li>Time K-fold (make sure to always predict the future data)</li>
</ul>
<p><img src="/Data-Science-selfstudy-notes-Blog/images/copied_from_nb/./images/time_kfold.png" alt="Time K-fold"></p>
<p><img src="/Data-Science-selfstudy-notes-Blog/images/copied_from_nb/./images/time_kfold2.png" alt="Time K-fold Implementation"></p>
<ul>
<li>Validation Pipeline (fold_metrics to save the model quality via each fold)</li>
</ul>
<p><img src="/Data-Science-selfstudy-notes-Blog/images/copied_from_nb/./images/validation_pipeline.png" alt="Validation Pipeline"></p>
<ul>
<li>Overall validation score</li>
</ul>
<p><img src="/Data-Science-selfstudy-notes-Blog/images/copied_from_nb/./images/overall_validation_score.png" alt="Overall validation score"></p>
<p><img src="/Data-Science-selfstudy-notes-Blog/images/copied_from_nb/./images/overall_validation_score2.png" alt="Overall validation score2"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Time-K-fold">Time K-fold<a class="anchor-link" href="#Time-K-fold"> </a></h3><p>Remember the "Store Item Demand Forecasting Challenge" where you are given store-item sales data, and have to predict future sales?</p>
<p>It's a competition with time series data. So, time K-fold cross-validation should be applied. Your goal is to create this cross-validation strategy and make sure that it works as expected.</p>
<p>Note that the train DataFrame is already available in your workspace, and that TimeSeriesSplit has been imported from sklearn.model_selection.</p>
<p>Instructions:</p>
<ul>
<li>Create a TimeSeriesSplit object with 3 splits.</li>
<li>Sort the train data by "date" column to apply time K-fold.</li>
<li>Loop over each time split using time_kfold object.</li>
<li>For each split select training and testing folds using train_index and test_index.</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">TimeSeriesSplit</span>

<span class="n">train_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;datasets/demand_forecasting_train_1_month.csv&quot;</span><span class="p">)</span>

<span class="c1"># Create TimeSeriesSplit object</span>
<span class="n">time_kfold</span> <span class="o">=</span> <span class="n">TimeSeriesSplit</span><span class="p">(</span><span class="n">n_splits</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="c1"># Sort train data by date</span>
<span class="n">train</span> <span class="o">=</span> <span class="n">train_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span>

<span class="c1"># Iterate through each split</span>
<span class="n">fold</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">train_index</span><span class="p">,</span> <span class="n">test_index</span> <span class="ow">in</span> <span class="n">time_kfold</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">train</span><span class="p">):</span>
    <span class="n">cv_train</span><span class="p">,</span> <span class="n">cv_test</span> <span class="o">=</span> <span class="n">train</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">train_index</span><span class="p">],</span> <span class="n">train</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">test_index</span><span class="p">]</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Fold :&#39;</span><span class="p">,</span> <span class="n">fold</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Train date range: from </span><span class="si">{}</span><span class="s1"> to </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cv_train</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">cv_train</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">max</span><span class="p">()))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Test date range: from </span><span class="si">{}</span><span class="s1"> to </span><span class="si">{}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cv_test</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">cv_test</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">max</span><span class="p">()))</span>
    <span class="n">fold</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Fold : 0
Train date range: from 2017-12-01 to 2017-12-08
Test date range: from 2017-12-08 to 2017-12-16

Fold : 1
Train date range: from 2017-12-01 to 2017-12-16
Test date range: from 2017-12-16 to 2017-12-24

Fold : 2
Train date range: from 2017-12-01 to 2017-12-24
Test date range: from 2017-12-24 to 2017-12-31

</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Great! You've applied time K-fold cross-validation strategy for the demand forecasting. Look at the output. It works as expected, training only on the past data and predicting the future. Progress to the next exercise to evaluate different models!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Overall-validation-score">Overall validation score<a class="anchor-link" href="#Overall-validation-score"> </a></h3><p>Now it's time to get the actual model performance using cross-validation! How does our store item demand prediction model perform?</p>
<p>Your task is to take the Mean Squared Error (MSE) for each fold separately, and then combine these results into a single number.</p>
<p>For simplicity, you're given get_fold_mse() function that for each cross-validation split fits a Random Forest model and returns a list of MSE scores by fold. get_fold_mse() accepts two arguments: train and TimeSeriesSplit object.</p>
<p>Instructions 1/3</p>
<ul>
<li>Create time 3-fold cross-validation.</li>
<li>Print the numpy mean of MSE scores by folds.</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestRegressor</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">mean_squared_error</span>

<span class="k">def</span> <span class="nf">get_fold_mse</span><span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">kf</span><span class="p">):</span>
    <span class="n">mse_scores</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">for</span> <span class="n">train_index</span><span class="p">,</span> <span class="n">test_index</span> <span class="ow">in</span> <span class="n">kf</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">train</span><span class="p">):</span>
        <span class="n">fold_train</span><span class="p">,</span> <span class="n">fold_test</span> <span class="o">=</span> <span class="n">train</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">train_index</span><span class="p">],</span> <span class="n">train</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">test_index</span><span class="p">]</span>

        <span class="c1"># Fit the data and make predictions</span>
        <span class="c1"># Create a Random Forest object</span>
        <span class="n">rf</span> <span class="o">=</span> <span class="n">RandomForestRegressor</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">123</span><span class="p">)</span>

        <span class="c1"># Train a model</span>
        <span class="n">rf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="o">=</span><span class="n">fold_train</span><span class="p">[[</span><span class="s1">&#39;store&#39;</span><span class="p">,</span> <span class="s1">&#39;item&#39;</span><span class="p">]],</span> <span class="n">y</span><span class="o">=</span><span class="n">fold_train</span><span class="p">[</span><span class="s1">&#39;sales&#39;</span><span class="p">])</span>

        <span class="c1"># Get predictions for the test set</span>
        <span class="n">pred</span> <span class="o">=</span> <span class="n">rf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">fold_test</span><span class="p">[[</span><span class="s1">&#39;store&#39;</span><span class="p">,</span> <span class="s1">&#39;item&#39;</span><span class="p">]])</span>
    
        <span class="n">fold_score</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">mean_squared_error</span><span class="p">(</span><span class="n">fold_test</span><span class="p">[</span><span class="s1">&#39;sales&#39;</span><span class="p">],</span> <span class="n">pred</span><span class="p">),</span> <span class="mi">5</span><span class="p">)</span>
        <span class="n">mse_scores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fold_score</span><span class="p">)</span>
        
    <span class="k">return</span> <span class="n">mse_scores</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">TimeSeriesSplit</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Sort train data by date</span>
<span class="n">train</span> <span class="o">=</span> <span class="n">train</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span>

<span class="c1"># Initialize 3-fold time cross-validation</span>
<span class="n">kf</span> <span class="o">=</span> <span class="n">TimeSeriesSplit</span><span class="p">(</span><span class="n">n_splits</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="c1"># Get MSE scores for each cross-validation split</span>
<span class="n">mse_scores</span> <span class="o">=</span> <span class="n">get_fold_mse</span><span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">kf</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Mean validation MSE: </span><span class="si">{:.5f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">mse_scores</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;MSE by fold: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mse_scores</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Overall validation MSE: </span><span class="si">{:.5f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">mse_scores</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">mse_scores</span><span class="p">)))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Mean validation MSE: 955.49186
MSE by fold: [890.30336, 961.65797, 1014.51424]
Overall validation MSE: 1006.38784
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Congratulations, you've mastered it! Now, you know different validation strategies as well as how to use them to obtain overall model performance. It's time for the next and the most interesting part of the solution process: Feature Engineering and Modeling. See you in the next Chapters!</p>

</div>
</div>
</div>
</div>
 

